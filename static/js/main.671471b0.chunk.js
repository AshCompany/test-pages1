(this["webpackJsonptest-pages1"]=this["webpackJsonptest-pages1"]||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(27),s=a.n(c),o=(a(39),a.p,a(40),a(30)),d=a(2),r=a(1),l=a(10),u=a(17),m=a(28),p=a(29),h=a(34),j=a(33),w=(a(15),a.p+"static/media/1.331a92fa.png"),b=a.p+"static/media/2.5986fd4d.png",g=a.p+"static/media/3.2e108ec6.png",f=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(m.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){a(15).get("https://api.diamond-press.com/api/en/Nas/Product/GetProductList?&pageLength=12&currentPageIndex=1&Filter.productSortType=3").then((function(e){i.setState({products:e.data.messageItems[0].data.dataItems})}))},i.addToBasketClicked=function(e){window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"add_to_cart",ecommerce:Object(u.a)({},e)});var t=i.state.basket;t.push(e),i.setState({basket:t})},i.deleteFromBasketClicked=function(e,t){window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"remove_from_cart",ecommerce:Object(u.a)({},e)});var a=i.state.basket;a.splice(t,1),i.setState({basket:a})},i.payValueChanged=function(e){window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"purchase",ecommerce:{value:e}}),i.setState({payValue:e})},i.payBtnClicked=function(){window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"begin_checkout",ecommerce:{items:Object(l.a)(i.state.basket),amountOfMoney:i.state.payValue}}),i.setState({basket:[]})},i.clearBasketClicked=function(){i.setState({basket:[],payValue:""})},i.viewListClicked=function(){i.setState({showList:!i.state.showList},(function(){return i.state.showList&&Object(r.jsx)(r.Fragment,{children:(window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"view_item_list",ecommerce:{items:Object(l.a)(i.state.basket)}}))})}))},i.viewProductDetail=function(e){window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"select_item",ecommerce:{items:Object(l.a)(e)}}),a(15).get("https://api.diamond-press.com/api/en/Nas/Product/GetProductInfo?&id=".concat(e.id,"&title=is+not+valid+now")).then((function(e){e.data.hasError||(i.setState({productDetail:{},isOpenModal:!0},(function(){return i.setState({productDetail:e.data.messageItems[0].data})})),window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"view_item",ecommerce:{items:Object(l.a)(e.data.messageItems[0].data)}}))}))},i.imageLoaded=function(e){window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"view_promotion",ecommerce:{items:[{imageId:e.target.id,imageName:e.target.alt}]}})},i.imageClicked=function(e){window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"select_promotion",ecommerce:{items:[{imageId:e.target.id,imageName:e.target.alt}]}})},i.state={products:[],basket:[],payValue:"",showList:!1,productDetail:{},isOpenModal:!1,loadedImages:[]},i}return Object(p.a)(n,[{key:"render",value:function(){var e,t=this;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("img",{id:1,style:{width:"200px",marginRight:"10px"},src:w,alt:"banner 1",onLoad:function(e){return t.imageLoaded(e)},onClick:function(e){return t.imageClicked(e)}}),Object(r.jsx)("img",{id:2,style:{width:"200px"},src:b,alt:"banner 2",onLoad:function(e){return t.imageLoaded(e)},onClick:function(e){return t.imageClicked(e)}}),Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[console.log(window.dataLayer,"********"),Object(r.jsx)("div",{children:this.state.products.map((function(e){return!!e.imageUrl&&Object(r.jsxs)("div",{style:{marginTop:"10px",height:"100px",display:"flex"},children:[Object(r.jsx)("img",{style:{width:"100px"},src:"https://api.diamond-press.com".concat(e.imageUrl)}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:e.name}),Object(r.jsx)("button",{onClick:function(){return t.addToBasketClicked(e)},children:"add to basket"}),Object(r.jsx)("button",{onClick:function(){return t.viewProductDetail(e)},children:"view product detail"})]})]})}))}),Object(r.jsxs)("div",{style:{width:"200px"},children:[Object(r.jsx)("button",{onClick:this.viewListClicked,children:"".concat(this.state.showList?"hide":"show"," basket items")}),Object(r.jsx)("button",{onClick:this.clearBasketClicked,children:"clear basket"}),"basket",this.state.showList&&this.state.basket.map((function(e,a){return Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)("p",{children:e.name}),Object(r.jsx)("button",{onClick:function(){return t.deleteFromBasketClicked(e,a)},children:"delete"})]})})),Object(r.jsx)("input",{value:this.state.payValue,onChange:function(e){return t.payValueChanged(e.target.value)},style:{marginTop:"10px"}}),Object(r.jsx)("button",{onClick:this.payBtnClicked,children:"pay"})]})]},window.dataLayer),this.state.isOpenModal&&Object(r.jsxs)("div",{style:{position:"fixed",zIndex:"1",left:"0",top:"0"},children:[Object(r.jsx)("img",{src:"https://api.diamond-press.com".concat(null===(e=this.state.productDetail)||void 0===e?void 0:e.imageUrl)}),Object(r.jsx)("button",{onClick:function(){return t.setState({isOpenModal:!1})},children:"close"})]}),Object(r.jsx)("img",{id:3,style:{width:"200px",marginRight:"10px"},src:g,alt:"banner 3",onLoad:function(e){return t.imageLoaded(e)},onClick:function(e){return t.imageClicked(e)}})]})}}]),n}(i.a.Component);var y=function(){return window.dataLayer.push({event:"pageview",page:{url:window.location.href,title:window.title}}),Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(o.a,{children:Object(r.jsx)(d.c,{children:Object(r.jsx)(d.a,{path:"/",children:Object(r.jsx)(f,{})})})})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),c(e),s(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(y,{})}),document.getElementById("root")),k()}},[[65,1,2]]]);
//# sourceMappingURL=main.671471b0.chunk.js.map