{"version":3,"sources":["logo.svg","img/1.png","img/2.png","img/3.png","Products.js","App.js","reportWebVitals.js","index.js"],"names":["Products","props","componentDidMount","require","get","then","res","setState","products","data","messageItems","dataItems","addToBasketClicked","product","window","dataLayer","push","ecommerce","event","state","basket","deleteFromBasketClicked","item","index","splice","payValueChanged","value","payValue","payBtnClicked","items","amountOfMoney","clearBasketClicked","viewListClicked","showList","viewProductDetail","console","log","selectedId","hasError","productDetail","isOpenModal","imageLoaded","e","imageId","target","id","imageName","alt","imageClicked","loadedImages","style","width","marginRight","src","img1","onLoad","onClick","img2","display","justifyContent","this","map","imageUrl","marginTop","height","name","onChange","position","zIndex","left","top","img3","React","Component","App","page","url","location","href","title","className","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2819aefc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/1.331a92fa.png\";","export default __webpack_public_path__ + \"static/media/2.5986fd4d.png\";","export default __webpack_public_path__ + \"static/media/3.2e108ec6.png\";","import axios from \"axios\"\r\nimport React, { useState } from \"react\";\r\nimport img1 from './img/1.png'\r\nimport img2 from './img/2.png'\r\nimport img3 from './img/3.png'\r\n\r\nclass Products extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: [],\r\n            basket: [],\r\n            payValue: '',\r\n            showList: false,\r\n            productDetail: {},\r\n            isOpenModal: false,\r\n            loadedImages: []\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n        const axios = require('axios');\r\n        axios.get('https://api.diamond-press.com/api/en/Nas/Product/GetProductList?&pageLength=12&currentPageIndex=1&Filter.productSortType=3').then(res => {\r\n            this.setState({\r\n                products: res.data.messageItems[0].data.dataItems,\r\n            })\r\n        })\r\n    }\r\n    addToBasketClicked = (product) => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"add_to_cart\",\r\n            ecommerce: {\r\n                ...product\r\n            }\r\n        })\r\n        let data = this.state.basket\r\n        data.push(product)\r\n        this.setState({\r\n            basket: data\r\n        })\r\n    }\r\n    deleteFromBasketClicked = (item, index) => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"remove_from_cart\",\r\n            ecommerce: {\r\n                ...item\r\n            }\r\n        })\r\n        let data = this.state.basket;\r\n        data.splice(index, 1)\r\n        this.setState({\r\n            basket: data\r\n        })\r\n    }\r\n    payValueChanged = (value) => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"purchase\",\r\n            ecommerce: {\r\n                value\r\n            }\r\n        })\r\n        this.setState({\r\n            payValue: value\r\n        })\r\n    }\r\n    payBtnClicked = () => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"begin_checkout\",\r\n            ecommerce: {\r\n                items: [\r\n                    ...this.state.basket\r\n                ],\r\n                amountOfMoney: this.state.payValue\r\n            }\r\n        })\r\n        this.setState({\r\n            basket: []\r\n        })\r\n    }\r\n    clearBasketClicked = () => {\r\n        this.setState({\r\n            basket: [],\r\n            payValue: \"\"\r\n        })\r\n    }\r\n    viewListClicked = () => {\r\n        this.setState({\r\n            showList: !this.state.showList\r\n        }, () => this.state.showList && <>\r\n            {\r\n                window.dataLayer.push({ ecommerce: null }),\r\n                window.dataLayer.push({\r\n                    event: \"view_item_list\",\r\n                    ecommerce: {\r\n                        items: [...this.state.basket]\r\n                    }\r\n                })\r\n            }\r\n        </>)\r\n    }\r\n    viewProductDetail = (product) => {\r\n        console.log(product);\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"select_item\",\r\n            ecommerce: {\r\n                items: product\r\n            }\r\n        })\r\n        const axios = require('axios');\r\n        axios.get(`https://api.diamond-press.com/api/en/Nas/Product/GetProductInfo?&id=${product.selectedId}&title=is+not+valid+now`).then(res => {\r\n            if (!res.data.hasError) {\r\n                this.setState({\r\n                    productDetail: {},\r\n                    isOpenModal: true\r\n                }, () => this.setState({\r\n                    productDetail: res.data.messageItems[0].data\r\n                }))\r\n                window.dataLayer.push({ ecommerce: null });\r\n                window.dataLayer.push({\r\n                    event: \"view_item\",\r\n                    ecommerce: {\r\n                        items: res.data.messageItems[0].data\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n    imageLoaded = (e) => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"view_promotion\",\r\n            ecommerce: {\r\n                items: [\r\n                    {\r\n                        imageId: e.target.id,\r\n                        imageName: e.target.alt\r\n                    }\r\n                ]\r\n            }\r\n        })\r\n    }\r\n    imageClicked = (e) => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"select_promotion\",\r\n            ecommerce: {\r\n                items: [\r\n                    {\r\n                        imageId: e.target.id,\r\n                        imageName: e.target.alt\r\n                    }\r\n                ]\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <img id={1} style={{ width: '200px', marginRight: '10px' }} src={img1} alt='banner 1' onLoad={(event) => this.imageLoaded(event)} onClick={(event) => this.imageClicked(event)} />\r\n                <img id={2} style={{ width: '200px' }} src={img2} alt='banner 2' onLoad={(event) => this.imageLoaded(event)} onClick={(event) => this.imageClicked(event)} />\r\n                <div key={window.dataLayer} style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    {console.log(window.dataLayer, \"********\")}\r\n                    <div>\r\n                        {this.state.products.map(product => {\r\n                            return !!product.imageUrl && <div style={{ marginTop: '10px', height: '100px', display: 'flex' }}>\r\n                                <img style={{ width: '100px' }} src={`https://api.diamond-press.com${product.imageUrl}`} />\r\n                                <div>\r\n                                    <p>{product.name}</p>\r\n                                    <button onClick={() => this.addToBasketClicked(product)}>add to basket</button>\r\n                                    <button onClick={() => this.viewProductDetail(product)}>view product detail</button>\r\n                                </div>\r\n                            </div>\r\n                        })}\r\n                    </div>\r\n                    <div style={{ width: '200px' }}>\r\n                        <button onClick={this.viewListClicked}>{`${this.state.showList ? \"hide\" : \"show\"} basket items`}</button>\r\n                        <button onClick={this.clearBasketClicked}>clear basket</button>\r\n                        basket\r\n                        {this.state.showList && this.state.basket.map((item, index) => {\r\n                            return <div style={{ display: 'flex' }}>\r\n                                <p>{item.name}</p>\r\n                                <button onClick={() => this.deleteFromBasketClicked(item, index)}>delete</button>\r\n                            </div>\r\n                        })}\r\n                        <input value={this.state.payValue} onChange={(e) => this.payValueChanged(e.target.value)} style={{ marginTop: '10px' }} />\r\n                        <button onClick={this.payBtnClicked}>pay</button>\r\n                    </div>\r\n                </div>\r\n                {this.state.isOpenModal && <div style={{ position: 'fixed', zIndex: '1', left: '0', top: '0' }}>\r\n                    <img src={`https://api.diamond-press.com${this.state.productDetail?.imageUrl}`} />\r\n                    <button onClick={() => this.setState({ isOpenModal: false })}>close</button>\r\n                </div>}\r\n                <img id={3} style={{ width: '200px', marginRight: '10px' }} src={img3} alt='banner 3' onLoad={(event) => this.imageLoaded(event)} onClick={(event) => this.imageClicked(event)} />\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default Products","import logo from './logo.svg';\r\nimport './App.css';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport About from './About';\r\nimport Products from './Products';\r\nfunction App() {\r\n\r\n  window.dataLayer.push({\r\n    event: 'pageview',\r\n    page: {\r\n      url: window.location.href,\r\n      title: window.title\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/\">\r\n            <Products />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}