{"version":3,"sources":["logo.svg","Products.js","App.js","reportWebVitals.js","index.js"],"names":["Products","props","componentDidMount","require","get","then","res","setState","products","data","messageItems","dataItems","addToBasketClicked","product","window","dataLayer","push","ecommerce","event","state","basket","deleteFromBasketClicked","item","index","splice","payValueChanged","value","payValue","payBtnClicked","items","amountOfMoney","clearBasketClicked","viewListClicked","showList","style","display","justifyContent","console","log","this","map","imageUrl","marginTop","height","width","src","name","onClick","onChange","e","target","React","Component","App","page","url","location","href","title","className","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gNAAe,I,mECmIAA,G,wDA/HX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAQVC,kBAAoB,WACFC,EAAQ,IAChBC,IAAI,8HAA8HC,MAAK,SAAAC,GACzI,EAAKC,SAAS,CACVC,SAAUF,EAAIG,KAAKC,aAAa,GAAGD,KAAKE,gBAbjC,EAiBnBC,mBAAqB,SAACC,GAClBC,OAAOC,UAAUC,KAAK,CAAEC,UAAW,OACnCH,OAAOC,UAAUC,KAAK,CAClBE,MAAO,cACPD,UAAU,eACHJ,KAGX,IAAIJ,EAAO,EAAKU,MAAMC,OACtBX,EAAKO,KAAKH,GACV,EAAKN,SAAS,CACVa,OAAQX,KA5BG,EA+BnBY,wBAA0B,SAACC,EAAMC,GAC7BT,OAAOC,UAAUC,KAAK,CAAEC,UAAW,OACnCH,OAAOC,UAAUC,KAAK,CAClBE,MAAO,mBACPD,UAAU,eACHK,KAGX,IAAIb,EAAO,EAAKU,MAAMC,OACtBX,EAAKe,OAAOD,EAAO,GACnB,EAAKhB,SAAS,CACVa,OAAQX,KA1CG,EA6CnBgB,gBAAkB,SAACC,GACfZ,OAAOC,UAAUC,KAAK,CAAEC,UAAW,OACnCH,OAAOC,UAAUC,KAAK,CAClBE,MAAO,WACPD,UAAW,CACPS,WAGR,EAAKnB,SAAS,CACVoB,SAAUD,KAtDC,EAyDnBE,cAAgB,WACZd,OAAOC,UAAUC,KAAK,CAAEC,UAAW,OACnCH,OAAOC,UAAUC,KAAK,CAClBE,MAAO,iBACPD,UAAW,CACPY,MAAM,eACC,EAAKV,MAAMC,QAElBU,cAAe,EAAKX,MAAMQ,YAGlC,EAAKpB,SAAS,CACVa,OAAQ,MArEG,EAwEnBW,mBAAqB,WACjB,EAAKxB,SAAS,CACVa,OAAQ,GACRO,SAAU,MA3EC,EA8EnBK,gBAAkB,WACd,EAAKzB,SAAS,CACV0B,UAAW,EAAKd,MAAMc,WACvB,kBAAM,EAAKd,MAAMc,UAAY,oCAExBnB,OAAOC,UAAUC,KAAK,CAAEC,UAAW,OACnCH,OAAOC,UAAUC,KAAK,CAClBE,MAAO,iBACPD,UAAU,eACH,EAAKE,MAAMC,iBArF9B,EAAKD,MAAQ,CACTX,SAAU,GACVY,OAAQ,GACRO,SAAU,GACVM,UAAU,GANC,E,0CA6FnB,WAAU,IAAD,OACL,OACI,mCACI,sBAA4BC,MAAO,CAAEC,QAAS,OAAQC,eAAgB,iBAAtE,UACKC,QAAQC,IAAIxB,OAAOC,UAAW,YAC/B,8BACKwB,KAAKpB,MAAMX,SAASgC,KAAI,SAAA3B,GACrB,QAASA,EAAQ4B,UAAY,sBAAKP,MAAO,CAAEQ,UAAW,OAAQC,OAAQ,QAASR,QAAS,QAA3D,UACzB,qBAAKD,MAAO,CAAEU,MAAO,SAAWC,IAAG,uCAAkChC,EAAQ4B,YAC7E,gCACI,4BAAI5B,EAAQiC,OACZ,wBAAQC,QAAS,kBAAM,EAAKnC,mBAAmBC,IAA/C,sCAKhB,sBAAKqB,MAAO,CAAEU,MAAO,SAArB,UACI,wBAAQG,QAASR,KAAKP,gBAAtB,mBAA2CO,KAAKpB,MAAMc,SAAW,OAAS,OAA1E,mBACA,wBAAQc,QAASR,KAAKR,mBAAtB,0BAFJ,SAIKQ,KAAKpB,MAAMc,UAAYM,KAAKpB,MAAMC,OAAOoB,KAAI,SAAClB,EAAMC,GACjD,OAAO,sBAAKW,MAAO,CAAEC,QAAS,QAAvB,UACH,4BAAIb,EAAKwB,OACT,wBAAQC,QAAS,kBAAM,EAAK1B,wBAAwBC,EAAMC,IAA1D,0BAGR,uBAAOG,MAAOa,KAAKpB,MAAMQ,SAAUqB,SAAU,SAACC,GAAD,OAAO,EAAKxB,gBAAgBwB,EAAEC,OAAOxB,QAAQQ,MAAO,CAAEQ,UAAW,UAC9G,wBAAQK,QAASR,KAAKX,cAAtB,sBAxBEd,OAAOC,iB,GAjGVoC,IAAMC,YC8BdC,MAvBf,WAUE,OARAvC,OAAOC,UAAUC,KAAK,CACpBE,MAAO,WACPoC,KAAM,CACJC,IAAKzC,OAAO0C,SAASC,KACrBC,MAAO5C,OAAO4C,SAKhB,qBAAKC,UAAU,MAAf,SACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOC,KAAK,IAAZ,SACE,cAAC,EAAD,aCbGC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1D,MAAK,YAAkD,IAA/C2D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.f8fcaef4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import axios from \"axios\"\r\nimport React, { useState } from \"react\";\r\n\r\nclass Products extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: [],\r\n            basket: [],\r\n            payValue: '',\r\n            showList: false\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n        const axios = require('axios');\r\n        axios.get('https://api.diamond-press.com/api/en/Nas/Product/GetProductList?&pageLength=12&currentPageIndex=1&Filter.productSortType=3').then(res => {\r\n            this.setState({\r\n                products: res.data.messageItems[0].data.dataItems,\r\n            })\r\n        })\r\n    }\r\n    addToBasketClicked = (product) => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"add_to_cart\",\r\n            ecommerce: {\r\n                ...product\r\n            }\r\n        })\r\n        let data = this.state.basket\r\n        data.push(product)\r\n        this.setState({\r\n            basket: data\r\n        })\r\n    }\r\n    deleteFromBasketClicked = (item, index) => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"remove_from_cart\",\r\n            ecommerce: {\r\n                ...item\r\n            }\r\n        })\r\n        let data = this.state.basket;\r\n        data.splice(index, 1)\r\n        this.setState({\r\n            basket: data\r\n        })\r\n    }\r\n    payValueChanged = (value) => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"purchase\",\r\n            ecommerce: {\r\n                value\r\n            }\r\n        })\r\n        this.setState({\r\n            payValue: value\r\n        })\r\n    }\r\n    payBtnClicked = () => {\r\n        window.dataLayer.push({ ecommerce: null });\r\n        window.dataLayer.push({\r\n            event: \"begin_checkout\",\r\n            ecommerce: {\r\n                items: {\r\n                    ...this.state.basket\r\n                },\r\n                amountOfMoney: this.state.payValue\r\n            }\r\n        })\r\n        this.setState({\r\n            basket: []\r\n        })\r\n    }\r\n    clearBasketClicked = () => {\r\n        this.setState({\r\n            basket: [],\r\n            payValue: \"\"\r\n        })\r\n    }\r\n    viewListClicked = () => {\r\n        this.setState({\r\n            showList: !this.state.showList\r\n        }, () => this.state.showList && <>\r\n            {\r\n                window.dataLayer.push({ ecommerce: null }),\r\n                window.dataLayer.push({\r\n                    event: \"view_item_list\",\r\n                    ecommerce: {\r\n                        ...this.state.basket\r\n                    }\r\n                })\r\n            }\r\n        </>)\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <div key={window.dataLayer} style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    {console.log(window.dataLayer, \"********\")}\r\n                    <div>\r\n                        {this.state.products.map(product => {\r\n                            return !!product.imageUrl && <div style={{ marginTop: '10px', height: '100px', display: 'flex' }}>\r\n                                <img style={{ width: '100px' }} src={`https://api.diamond-press.com${product.imageUrl}`} />\r\n                                <div>\r\n                                    <p>{product.name}</p>\r\n                                    <button onClick={() => this.addToBasketClicked(product)}>add to basket</button>\r\n                                </div>\r\n                            </div>\r\n                        })}\r\n                    </div>\r\n                    <div style={{ width: '200px' }}>\r\n                        <button onClick={this.viewListClicked}>{`${this.state.showList ? \"hide\" : \"show\"} basket items`}</button>\r\n                        <button onClick={this.clearBasketClicked}>clear basket</button>\r\n                        basket\r\n                        {this.state.showList && this.state.basket.map((item, index) => {\r\n                            return <div style={{ display: 'flex' }}>\r\n                                <p>{item.name}</p>\r\n                                <button onClick={() => this.deleteFromBasketClicked(item, index)}>delete</button>\r\n                            </div>\r\n                        })}\r\n                        <input value={this.state.payValue} onChange={(e) => this.payValueChanged(e.target.value)} style={{ marginTop: '10px' }} />\r\n                        <button onClick={this.payBtnClicked}>pay</button>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default Products","import logo from './logo.svg';\r\nimport './App.css';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport About from './About';\r\nimport Products from './Products';\r\nfunction App() {\r\n\r\n  window.dataLayer.push({\r\n    event: 'pageview',\r\n    page: {\r\n      url: window.location.href,\r\n      title: window.title\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/\">\r\n            <Products />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}